{"ast":null,"code":"var _jsxFileName = \"/Users/Justin/go/src/FlipReset/project/flip-reset/src/register/register.js\";\nimport \"./register.css\";\nimport React, { Component } from 'react';\nimport { Link, withRouter, Redirect } from 'react-router-dom';\nimport { compose } from 'recompose';\nimport { withFirebase } from '../components/Firebase';\n\nconst SignUpPage = () => /*#__PURE__*/React.createElement(\"div\", {\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 11,\n    columnNumber: 3\n  }\n}, /*#__PURE__*/React.createElement(SignUpForm, {\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 12,\n    columnNumber: 5\n  }\n}));\n\nconst INITIAL_STATE = {\n  username: '',\n  email: '',\n  passwordOne: '',\n  passwordTwo: '',\n  isAdmin: false,\n  error: null\n};\nconst ERROR_CODE_ACCOUNT_EXISTS = 'auth/email-already-in-use';\nconst ERROR_MSG_ACCOUNT_EXISTS = `\n  An account with this E-Mail address already exists.\n  Try to login with this account instead. If you think the\n  account is already used from one of the social logins, try\n  to sign in with one of them. Afterward, associate your accounts\n  on your personal account page.\n`;\n\nclass SignUpFormBase extends Component {\n  constructor(props) {\n    super(props);\n\n    this.onSubmit = event => {\n      event.preventDefault();\n      const {\n        username,\n        email,\n        passwordOne,\n        isAdmin\n      } = this.state;\n      const roles = {};\n      this.props.firebase.doCreateUserWithEmailAndPassword(email, passwordOne).then(authUser => {\n        // Create a user in your Firebase realtime database\n        return this.props.firebase.user(authUser.user.uid).set({\n          username,\n          email\n        });\n      }).then(() => {\n        return this.props.firebase.doSendEmailVerification();\n      }).then(() => {\n        this.setState({ ...INITIAL_STATE\n        });\n        this.props.history.push( /*#__PURE__*/React.createElement(Redirect, {\n          to: \"/home\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 62,\n            columnNumber: 33\n          }\n        }));\n      }).catch(error => {\n        if (error.code === ERROR_CODE_ACCOUNT_EXISTS) {\n          error.message = ERROR_MSG_ACCOUNT_EXISTS;\n        }\n\n        this.setState({\n          error\n        });\n      });\n    };\n\n    this.onChange = event => {\n      this.setState({\n        [event.target.name]: event.target.value\n      });\n    };\n\n    this.onChangeCheckbox = event => {\n      this.setState({\n        [event.target.name]: event.target.checked\n      });\n    };\n\n    this.state = { ...INITIAL_STATE\n    };\n  }\n\n  render() {\n    const {\n      username,\n      email,\n      passwordOne,\n      passwordTwo,\n      error\n    } = this.state;\n    const isInvalid = passwordOne !== passwordTwo || passwordOne === '' || email === '' || username === '';\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"Register\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(Link, {\n      to: \"/\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      className: \"btn btn-primary submit-button-reg\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 7\n      }\n    }, \"Link to Sign In \")), /*#__PURE__*/React.createElement(\"form\", {\n      onSubmit: this.onSubmit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"entry\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      className: \"title-label\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 13\n      }\n    }, \"FlipReset\")), /*#__PURE__*/React.createElement(\"input\", {\n      name: \"username\",\n      value: username,\n      onChange: this.onChange,\n      type: \"text\",\n      placeholder: \"Full Name\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(\"input\", {\n      name: \"email\",\n      value: email,\n      onChange: this.onChange,\n      type: \"text\",\n      placeholder: \"Email Address\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(\"input\", {\n      name: \"passwordOne\",\n      value: passwordOne,\n      onChange: this.onChange,\n      type: \"password\",\n      placeholder: \"Password\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(\"input\", {\n      name: \"passwordTwo\",\n      value: passwordTwo,\n      onChange: this.onChange,\n      type: \"password\",\n      placeholder: \"Confirm Password\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 128,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(\"button\", {\n      disabled: isInvalid,\n      type: \"submit\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 9\n      }\n    }, \"Sign Up\"), error && /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 19\n      }\n    }, error.message))));\n  }\n\n}\n\nconst SignUpLink = () => /*#__PURE__*/React.createElement(\"p\", {\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 148,\n    columnNumber: 3\n  }\n}, \"Don't have an account? \", /*#__PURE__*/React.createElement(Link, {\n  to: \"/register\",\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 149,\n    columnNumber: 28\n  }\n}, \"Sign Up\"));\n\nconst SignUpForm = compose(withRouter, withFirebase)(SignUpFormBase);\nexport default SignUpPage;\nexport { SignUpForm, SignUpLink };","map":{"version":3,"sources":["/Users/Justin/go/src/FlipReset/project/flip-reset/src/register/register.js"],"names":["React","Component","Link","withRouter","Redirect","compose","withFirebase","SignUpPage","INITIAL_STATE","username","email","passwordOne","passwordTwo","isAdmin","error","ERROR_CODE_ACCOUNT_EXISTS","ERROR_MSG_ACCOUNT_EXISTS","SignUpFormBase","constructor","props","onSubmit","event","preventDefault","state","roles","firebase","doCreateUserWithEmailAndPassword","then","authUser","user","uid","set","doSendEmailVerification","setState","history","push","catch","code","message","onChange","target","name","value","onChangeCheckbox","checked","render","isInvalid","SignUpLink","SignUpForm"],"mappings":"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","sourcesContent":["import \"./register.css\";\nimport React, { Component } from 'react';\nimport { Link, withRouter, Redirect } from 'react-router-dom';\nimport { compose } from 'recompose';\n\n\n\nimport { withFirebase } from '../components/Firebase';\n\nconst SignUpPage = () => (\n  <div>\n    <SignUpForm />\n  </div>\n);\n\nconst INITIAL_STATE = {\n  username: '',\n  email: '',\n  passwordOne: '',\n  passwordTwo: '',\n  isAdmin: false,\n  error: null,\n};\n\nconst ERROR_CODE_ACCOUNT_EXISTS = 'auth/email-already-in-use';\n\nconst ERROR_MSG_ACCOUNT_EXISTS = `\n  An account with this E-Mail address already exists.\n  Try to login with this account instead. If you think the\n  account is already used from one of the social logins, try\n  to sign in with one of them. Afterward, associate your accounts\n  on your personal account page.\n`;\n\nclass SignUpFormBase extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = { ...INITIAL_STATE };\n  }\n\n  onSubmit = event => {\n    event.preventDefault();\n\n    const { username, email, passwordOne, isAdmin } = this.state;\n    const roles = {};\n\n    this.props.firebase\n      .doCreateUserWithEmailAndPassword(email, passwordOne)\n      .then(authUser => {\n        // Create a user in your Firebase realtime database\n        return this.props.firebase.user(authUser.user.uid).set({\n          username,\n          email,\n        });\n      })\n      .then(() => {\n        return this.props.firebase.doSendEmailVerification();\n      })\n      .then(() => {\n        this.setState({ ...INITIAL_STATE });\n        this.props.history.push(<Redirect to=\"/home\"/>);\n      })\n      .catch(error => {\n        if (error.code === ERROR_CODE_ACCOUNT_EXISTS) {\n          error.message = ERROR_MSG_ACCOUNT_EXISTS;\n        }\n\n        this.setState({ error });\n      });\n  };\n\n  onChange = event => {\n    this.setState({ [event.target.name]: event.target.value });\n  };\n\n  onChangeCheckbox = event => {\n    this.setState({ [event.target.name]: event.target.checked });\n  };\n\n  render() {\n    const {\n      username,\n      email,\n      passwordOne,\n      passwordTwo,\n      error,\n    } = this.state;\n\n    const isInvalid =\n      passwordOne !== passwordTwo ||\n      passwordOne === '' ||\n      email === '' ||\n      username === '';\n\n    return (\n      \n        <div className=\"Register\">\n        <Link to=\"/\">\n      <button className=\"btn btn-primary submit-button-reg\">Link to Sign In </button>\n       </Link>\n      <form onSubmit={this.onSubmit}>\n      <div className=\"entry\">\n        <div>\n            <label className=\"title-label\">FlipReset</label>\n        </div>\n        <input\n          name=\"username\"\n          value={username}\n          onChange={this.onChange}\n          type=\"text\"\n          placeholder=\"Full Name\"\n        />\n        <input\n          name=\"email\"\n          value={email}\n          onChange={this.onChange}\n          type=\"text\"\n          placeholder=\"Email Address\"\n        />\n        <input\n          name=\"passwordOne\"\n          value={passwordOne}\n          onChange={this.onChange}\n          type=\"password\"\n          placeholder=\"Password\"\n        />\n        <input\n          name=\"passwordTwo\"\n          value={passwordTwo}\n          onChange={this.onChange}\n          type=\"password\"\n          placeholder=\"Confirm Password\"\n        />\n        <button disabled={isInvalid} type=\"submit\">\n          Sign Up\n        </button>\n\n        {error && <p>{error.message}</p>}\n        </div>\n      </form>\n      </div>\n    );\n  }\n}\n\nconst SignUpLink = () => (\n  <p>\n    Don't have an account? <Link to={\"/register\"}>Sign Up</Link>\n  </p>\n);\n\nconst SignUpForm = compose(\n  withRouter,\n  withFirebase,\n)(SignUpFormBase);\n\nexport default SignUpPage;\n\nexport { SignUpForm, SignUpLink };"]},"metadata":{},"sourceType":"module"}